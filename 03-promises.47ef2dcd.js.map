{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,UAEa,CACXC,OAAQC,SAASC,cAAc,UAG5BF,OAAOG,iBAAiB,UAAU,SAAAC,GACrCA,EAAEC,iBACF,IAIIC,EAJkDC,EAARH,EAAEI,OAAxCC,SAAYC,EAAKH,EAALG,MAAOC,EAAIJ,EAAJI,KAAMC,EAAML,EAANK,OAC3BC,EAAaH,EAAMI,MACnBC,EAAWJ,EAAKG,MAChBE,EAAoBJ,EAAOE,MAE7BG,EAAiB,EAGrBC,YAAW,WACTZ,EAAKa,aAAY,YAmBrB,SAAuBC,EAAUV,GACd,IAAIW,SAAQ,SAACC,EAASC,GACfC,KAAKC,SAAW,GAGpCH,EAAQ,CAACF,WAAUV,UAEnBa,EAAO,CAACH,WAAUV,S,IAEnBgB,MAAK,SAACC,GACPC,EAAA9B,GAAS+B,OAAOC,QAAQ,uBAAwCC,OAAfX,EAAS,QAAYW,OAANrB,EAAM,M,IAGvEsB,OAAM,SAACC,GACNL,EAAA9B,GAAS+B,OAAOK,QAAQ,sBAAqCH,OAAfX,EAAS,QAAYW,OAANrB,EAAM,M,KA5BjEyB,CAJAlB,GAAkB,GAEAJ,EAAaI,GAAkBF,GAI7CE,KAAoBD,GACtBoB,cAAc9B,E,GAGfS,E,GAEHF,GAEFT,EAAEI,OAAO6B,O","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  formEl: document.querySelector('form')\n}\n\nrefs.formEl.addEventListener('submit', e => {\n  e.preventDefault();\n  const { elements: { delay, step, amount } } = e.target;\n  const firstDelay = delay.value;\n  const interval = step.value;\n  const countIterationAll = amount.value;\n  let id;\n  let countIteration = 0;\n  let delayIteration = 0;\n  \n  setTimeout(() => {\n    id = setInterval(() => {\n      countIteration += 1;\n\n      delayIteration = +firstDelay + countIteration * +interval;\n\n      createPromise(countIteration, delayIteration);\n      \n      if (countIteration === +countIterationAll) {\n        clearInterval(id);\n      }\n      \n    }, interval)\n    \n  },firstDelay)\n\n  e.target.reset();\n})\n\n\nfunction createPromise(position, delay) {\n  const promise =  new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    \n    if (shouldResolve) {\n      resolve({position, delay})\n    } else {\n      reject({position, delay})\n    }\n  }).then((result) => {\n    Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n\n  })\n  .catch((error) => {\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n\n  return promise;  \n}\n"],"names":["$iU1Pc","parcelRequire","formEl","document","querySelector","addEventListener","e","preventDefault","id","_elements","target","elements","delay","step","amount","firstDelay","value","interval","countIterationAll","countIteration","setTimeout","setInterval","position","Promise","resolve","reject","Math","random","then","result","$parcel$interopDefault","Notify","success","concat","catch","error","failure","$ce04d3a99e08e73b$var$createPromise","clearInterval","reset"],"version":3,"file":"03-promises.47ef2dcd.js.map"}