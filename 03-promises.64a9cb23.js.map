{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,UAEa,CACXC,OAAQC,SAASC,cAAc,UAG5BF,OAAOG,iBAAiB,UAAUC,IACrCA,EAAEC,iBACF,MAAQC,UAAUC,MAAEA,EAAKC,KAAEA,EAAIC,OAAEA,IAAaL,EAAEM,OAC1CC,EAAaJ,EAAMK,MACnBC,EAAWL,EAAKI,MAChBE,EAAoBL,EAAOG,MACjC,IAAIG,EACAC,EAAiB,EACjBC,EAAiB,EAErBC,YAAW,KACTH,EAAKI,aAAY,KACfH,GAAkB,EAElBC,GAAkBN,EAAaK,GAAkBH,EAgBvD,SAAuBO,EAAUb,GACd,IAAIc,SAAQ,CAACC,EAASC,KACfC,KAAKC,SAAW,GAGpCH,EAAQ,C,SAACF,E,MAAUb,IAEnBgB,EAAO,C,SAACH,E,MAAUb,GAAO,IAE1BmB,MAAMC,IACPC,EAAA9B,GAAS+B,OAAOC,QAAQ,uBAAqBV,QAAiBb,MAAU,IAGzEwB,OAAOC,IACNJ,EAAA9B,GAAS+B,OAAOI,QAAQ,sBAAoBb,QAAeb,MAAU,G,CA5BnE2B,CAAclB,EAAgBC,GAE1BD,KAAoBF,GACtBqB,cAAcpB,EAAG,GAGlBF,EAAS,GAEZF,GAEFP,EAAEM,OAAO0B,OAAO","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  formEl: document.querySelector('form')\n}\n\nrefs.formEl.addEventListener('submit', e => {\n  e.preventDefault();\n  const { elements: { delay, step, amount } } = e.target;\n  const firstDelay = delay.value;\n  const interval = step.value;\n  const countIterationAll = amount.value;\n  let id;\n  let countIteration = 0;\n  let delayIteration = 0;\n  \n  setTimeout(() => {\n    id = setInterval(() => {\n      countIteration += 1;\n\n      delayIteration = +firstDelay + countIteration * +interval;\n\n      createPromise(countIteration, delayIteration);\n      \n      if (countIteration === +countIterationAll) {\n        clearInterval(id);\n      }\n      \n    }, interval)\n    \n  },firstDelay)\n\n  e.target.reset();\n})\n\n\nfunction createPromise(position, delay) {\n  const promise =  new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    \n    if (shouldResolve) {\n      resolve({position, delay})\n    } else {\n      reject({position, delay})\n    }\n  }).then((result) => {\n    Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n\n  })\n  .catch((error) => {\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n\n  return promise;  \n}\n"],"names":["$eWCmQ","parcelRequire","formEl","document","querySelector","addEventListener","e","preventDefault","elements","delay","step","amount","target","firstDelay","value","interval","countIterationAll","id","countIteration","delayIteration","setTimeout","setInterval","position","Promise","resolve","reject","Math","random","then","result","$parcel$interopDefault","Notify","success","catch","error","failure","$47d4ff9957288465$var$createPromise","clearInterval","reset"],"version":3,"file":"03-promises.64a9cb23.js.map"}