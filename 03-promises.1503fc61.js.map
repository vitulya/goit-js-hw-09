{"mappings":"CAAa,CACXA,OAAQC,SAASC,cAAc,UAG5BF,OAAOG,iBAAiB,UAAUC,IACrCA,EAAEC,iBACF,MAAQC,UAAUC,MAAEA,EAAKC,KAAEA,EAAIC,OAAEA,IAAaL,EAAEM,OAC1CC,EAAaJ,EAAMK,MACnBC,EAAWL,EAAKI,MAChBE,EAAoBL,EAAOG,MACjC,IAAIG,EACAC,EAAiB,EACjBC,EAAiB,EAErBC,YAAW,KACTH,EAAKI,aAAY,KACfH,GAAkB,EAElBC,GAAkBN,EAAaK,GAAkBH,EAEjDO,QAAQC,IAAIJ,GAiBlB,SAAuBK,EAAUf,GACTgB,KAAKC,SAAW,GAEpCJ,QAAQC,IAAI,uBAAqBC,QAAiBf,OAEhDa,QAAMC,IAAI,sBAAoBC,QAAef,M,CApB7CkB,CAAcT,EAAgBC,GAE1BD,KAAoBF,GACtBY,cAAcX,EAAG,GAGlBF,EAAS,GAGZF,GAEFP,EAAEM,OAAOiB,OAAO","sources":["src/js/03-promises.js"],"sourcesContent":["const refs = {\n  formEl: document.querySelector('form')\n}\n\nrefs.formEl.addEventListener('submit', e => {\n  e.preventDefault();\n  const { elements: { delay, step, amount } } = e.target;\n  const firstDelay = delay.value;\n  const interval = step.value;\n  const countIterationAll = amount.value;\n  let id;\n  let countIteration = 0;\n  let delayIteration = 0;\n  \n  setTimeout(() => {\n    id = setInterval(() => {\n      countIteration += 1;\n\n      delayIteration = +firstDelay + countIteration * +interval;\n\n      console.log(delayIteration);\n\n      createPromise(countIteration, delayIteration);\n      \n      if (countIteration === +countIterationAll) {\n        clearInterval(id);\n      }\n      \n    }, interval)\n    \n    \n  },firstDelay)\n\n  e.target.reset();\n})\n\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  } else {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`)\n  }\n}\n"],"names":["formEl","document","querySelector","addEventListener","e","preventDefault","elements","delay","step","amount","target","firstDelay","value","interval","countIterationAll","id","countIteration","delayIteration","setTimeout","setInterval","console","log","position","Math","random","$47d4ff9957288465$var$createPromise","clearInterval","reset"],"version":3,"file":"03-promises.1503fc61.js.map"}